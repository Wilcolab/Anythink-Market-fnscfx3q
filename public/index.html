<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>Calculator</title>
    <link rel="stylesheet" href="default.css">
  </head>
  <body>
    <div class="container">
      <section id="results" aria-label="Calculator display">
        <div id="result"><span class="digit0">0</span></div>
      </section>

      <div id="loading" style="visibility:hidden" aria-busy="false" aria-label="Loading calculation"></div>

      <section class="box" aria-label="Calculator">
        <div class="calculator">
          <div class="calculator-buttons" role="group" aria-label="Calculator buttons">
            <button class="btn span-2" aria-label="Clear all" id="btn-clear-all"></button>
            <button class="btn" id="btn-c" aria-label="Clear">C</button>
            <button class="btn" id="btn-ce" aria-label="Clear entry">CE</button>

            <button class="btn" id="btn-7" aria-label="Number 7">7</button>
            <button class="btn" id="btn-8" aria-label="Number 8">8</button>
            <button class="btn" id="btn-9" aria-label="Number 9">9</button>
            <button class="btn" id="btn-divide" aria-label="Divide">&divide;</button>

            <button class="btn" id="btn-4" aria-label="Number 4">4</button>
            <button class="btn" id="btn-5" aria-label="Number 5">5</button>
            <button class="btn" id="btn-6" aria-label="Number 6">6</button>
            <button class="btn" id="btn-multiply" aria-label="Multiply">x</button>

            <button class="btn" id="btn-1" aria-label="Number 1">1</button>
            <button class="btn" id="btn-2" aria-label="Number 2">2</button>
            <button class="btn" id="btn-3" aria-label="Number 3">3</button>
            <button class="btn" id="btn-subtract" aria-label="Subtract">-</button>

            <button class="btn" id="btn-0" aria-label="Number 0">0</button>
            <button class="btn" id="btn-decimal" aria-label="Decimal point">.</button>
            <button class="btn" id="btn-add" aria-label="Add">+</button>
            <button class="btn" id="btn-equal" aria-label="Equals">=</button>

            <button class="btn" id="btn-power" aria-label="Power">^</button>
          </div>
        </div>
      </section>
    </div>
  </body>
  <script src="client.js"></script>
  <script>
    // Initialize calculator on DOM load
    document.addEventListener('DOMContentLoaded', function() {
      setValue(0);
      
      // Bind button events
      document.getElementById('btn-clear-all').addEventListener('click', clearPressed);
      document.getElementById('btn-c').addEventListener('click', clearPressed);
      document.getElementById('btn-ce').addEventListener('click', clearPressed);
      
      document.getElementById('btn-0').addEventListener('click', function() { numberPressed(0); });
      document.getElementById('btn-1').addEventListener('click', function() { numberPressed(1); });
      document.getElementById('btn-2').addEventListener('click', function() { numberPressed(2); });
      document.getElementById('btn-3').addEventListener('click', function() { numberPressed(3); });
      document.getElementById('btn-4').addEventListener('click', function() { numberPressed(4); });
      document.getElementById('btn-5').addEventListener('click', function() { numberPressed(5); });
      document.getElementById('btn-6').addEventListener('click', function() { numberPressed(6); });
      document.getElementById('btn-7').addEventListener('click', function() { numberPressed(7); });
      document.getElementById('btn-8').addEventListener('click', function() { numberPressed(8); });
      document.getElementById('btn-9').addEventListener('click', function() { numberPressed(9); });
      
      document.getElementById('btn-decimal').addEventListener('click', decimalPressed);
      document.getElementById('btn-add').addEventListener('click', function() { operationPressed('+'); });
      document.getElementById('btn-subtract').addEventListener('click', function() { operationPressed('-'); });
      document.getElementById('btn-multiply').addEventListener('click', function() { operationPressed('*'); });
      document.getElementById('btn-divide').addEventListener('click', function() { operationPressed('/'); });
      document.getElementById('btn-power').addEventListener('click', function() { operationPressed('^'); });
      document.getElementById('btn-equal').addEventListener('click', equalPressed);
    });
  </script>
</html>
